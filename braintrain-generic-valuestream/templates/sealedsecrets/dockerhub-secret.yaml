{{- $projects := .Values.projects }}
{{- range $project := $projects }}
{{- range $namespace := $project.namespaces}}
---
{
  "kind": "SealedSecret",
  "apiVersion": "bitnami.com/v1alpha1",
  "metadata": {
    "name": "dockerhub-secret",
    "namespace": {{ $namespace.name }},
    "creationTimestamp": null,
    "annotations": {
      "sealedsecrets.bitnami.com/cluster-wide": "true"
    }
  },
  "spec": {
    "template": {
      "metadata": {
        "name": "dockerhub-secret",
        "namespace": {{ $namespace.name }},
        "creationTimestamp": null,
        "annotations": {
          "sealedsecrets.bitnami.com/cluster-wide": "true"
        }
      },
      "type": "kubernetes.io/dockerconfigjson"
    },
    "encryptedData": {
      ".dockerconfigjson": "AQBkLKLfWqTAWHecEUYdCONk9Bgpo5nD8uuwqCtt0pcImUct3FonTmEJs0aoVKDdAN5Xm7vVOyd+zSZ0jp2AgVzeiSLzozrPufEm/mE1LgjpO6vbCCLrvQx8TPiuznUvVg/WBqOqF32Xa4Gnq1Mg7PCnP/7lSGAMGybl2awEn8a7rKhopYtYsyqdaqf8BXCPd1DYOMUKJotuCO3O5jFVzeFttGAvKEJi3TPWU2WxgMYWh24cWTlIPa0wOI+RKuKjhy7LylAOuZAXV4M2uZNANZVJrzSLaQzim6SLD9R+1HjeFbpcD94qGWxPHc8F+FEYq5QQf7CsWcFsazbEHO0nEJ5PmnBHyiTa4zMljtYGpka37JEGiYhfQukHJL9ZxFueUz70kkAadaCkTiDWQIcfoO5o74+M/0JEycQ9HLyhrVuqJNybH6NLLSfoyBdfik8/SG3feRPgIMhsFS8kHueU1owFdx4gv499CueKEOkiDZfvin+ESilVIcxwZJPwaewSU6hySz3TFX4YGY1bpisib0nmkTegb3iQLAOBwG4aielb3XDKTvrhip4Ycp01Lgsw39GN8Zw+gBIlw8PumfDFA08="
    }
  }
}
{{- end }}
{{- end }}
